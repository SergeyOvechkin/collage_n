<!DOCTYPE html>
<html lang="ru">
<head>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="./css/bootstrap.min.css">

<style type="text/css"> 
body, html { 
	   position: relative; 
       margin: 0; 
       padding: 0;
	   height: 100%;
     }
#canvas_container{
	position: relative;	
	
	
}
.canvas-container{

   position: relative;
	width: 100%;	
	height: 90vh;
	overflow: hidden;
} 
canvas { 
     
     width: 100%;     
	 height: 100%px; 
	 margin: 0; 
     padding: 0;
	 border: none;
	 

   }
 .list-group-item:hover{
       cursor: pointer;
 
 }
.form-group {
    margin-bottom: 0.7rem;
} 
</style>


</head>
	<body>
	

		
		<div class="container-fluid">
			<div class="row">
				<div class="col-8" id="canvas_container" >
						<div class="canvas-container">
							<canvas data-canvas="container" id="canvas"  ></canvas>
						</div>

						<div style=""> 

							<p>Для загрузки новой картинки нужно указать url картинки, сервера который поддерживает "Access-Control-Allow-Origin' запросы (например https://sergeyovechkin.github.io/collagen/img/dolphin.jpg), для загрузки картинки на локальном сервере нужно поместить их в папку img  http://localhost:3000/img/dolphin.jpg </p>
							<p>Для искажения части изображения нужно кликнуть по canvas для начала выделения, создать замкнутый контур, кликнуть по кнопке "искажать", затем перетащить выделенную точку контура в новое положение</p>
							<p>Для перемещения части изображения нужно кликнуть по canvas для начала выделения,создать замкнутый контур,  создать спрайт,  затем перетащить выделенную область в новое положение</p>	
						</div>
				</div>
				<div class="col-4">
						    <form data-main_form="container" name="formA" onsubmit="return false" enctype="multipart/form-data" action="__URL__" method="POST" style="margin-top: 10px;">
								<div class="form-row">
									<div class="form-group col-md-4">
											
											<input name="load_url_img" type="text" class="form-control form-control-sm"  placeholder="url картинки">
									</div>
									<div class="form-group col-md-2">
										<button type="button"  name="save_img" class="btn btn-success btn-sm">save</button>
									</div>
									<div class="form-group col-md-3">
										<button type="button"  name="restore_img" class="btn btn-warning btn-sm">restore</button>
									</div>
									<div class="form-group col-md-3">
										<button type="button"  name="restart_img" class="btn btn-danger btn-sm">restart</button>
									</div>
								</div>
								<div class="form-row">
								
								 
									<div class="form-group col-md-3">
										
											<input name="img_main_scale_x" type="text" class="form-control form-control-sm"  placeholder="scale X (0.6)" value="0.6"> 
									</div>
									<div class="form-group col-md-3">
								
											<input name="img_main_scale_y" type="text" class="form-control form-control-sm"  placeholder="scale Y (0.6)" value="0.6">
									</div>
									
									<div class="form-group col-md-3"> 
										<div class="form-check">
											<input type="checkbox" name="mirror_x"  class="form-check-input" id="exampleCheck1">
											<label class="form-check-label" for="exampleCheck1">mirror_X</label>
										</div>	
									</div>	
									<div class="form-group col-md-3"> 
										<div class="form-check">
											<input type="checkbox" name="mirror_y"  class="form-check-input" id="exampleCheck1">
											<label class="form-check-label" for="exampleCheck1">mirror_Y</label>
										</div>	
									</div>	
									
								 </div> 
								 <div class="form-row">
									<div class="form-group col-md-8">
										<label for="exampleFormControlInput1">Коэффициенты x,y масштабирования и отражение фона</label>
									</div>	
									<div class="form-group col-md-4">	
										<button type="button"  style="margin-top: 5px;" name="phone_scale_mirror" class="btn btn-primary btn-sm">Применить</button>
									</div>	
								</div>
								<div class="form-row">
									<div class="form-group col-md-6">
										<label for="exampleFormControlInput1">Точка после index:</label>
											<input name="add_index_point" type="text" class="form-control form-control-sm"  placeholder="индекс точки +1">
									</div>
									<div class="form-group col-md-6">
										<label for="exampleFormControlInput1">Удалить точку index:</label>
											<input name="rm_index_point" type="text" class="form-control form-control-sm"  placeholder="индекс точки">
									</div>
								 </div>
								 <div class="form-group">
										<label for="exampleFormControlInput1">Вращать :</label>
										<div class="form-row">
											<div class="form-group col-md-7">
												<input name="rotate_area" type="text" class="form-control form-control-sm"  placeholder="градус вращения выделения или спрайта">
											</div>	
											<div class="form-group col-md-4"> 
												<div class="form-check">
													<input type="checkbox" name="smoothing"  class="form-check-input" id="exampleCheck1">
													<label class="form-check-label" for="exampleCheck1">Сглаживание</label>
												</div>	
											</div>											
										</div>	
								 </div>
							     <button type="button"  style="margin-top: 5px;" name="scale_or_move_point" class="btn btn-warning btn-sm">Искажать</button>
								 <button type="button" style="margin-top: 5px;" name="create_sprite" class="btn btn-success btn-sm">Создать Sprite</button>
								 <button type="button"  style="margin-top: 5px;" name="clear_phone" class="btn btn-secondary btn-sm">Очистить фон</button>
								 <button type="button"  style="margin-top: 5px;" name="reset_area" class="btn btn-dark btn-sm">Сбросить выделение</button>
								 <button type="button"  style="margin-top: 5px;" name="operation_with" class="btn btn-primary btn-sm">Работать с фоновым изображением</button>
								 
								
							</form>
							<ul data-sprites="array" class="list-group" style="margin-top: 30px; max-height: 300px; overflow: auto;">
								<li data-sprite="template" class="list-group-item">
									<span name="id"></span>
									<button type="button" name="rm_sprite" class="btn btn-danger btn-sm">Удалить</button>
									<button type="button" name="show_sprite" class="btn btn-secondary btn-sm">Скрыть</button>
									<button type="button" name="stamp" class="btn btn-secondary btn-sm">Штамп</button>
								</li>
							</ul>
							<form name="formB" onsubmit="return false" data-form_b="container" style="margin-top: 10px;">
								<div class="form-row">
									<div class="form-group col-md-3">
											<input type="text" name="color_r"  class="form-control form-control-sm" id="exampleCheck1" placeholder="Red 0-255">	
									</div>
									<div class="form-group col-md-3">
											<input type="text" name="color_g"  class="form-control form-control-sm" id="exampleCheck1" placeholder="Green 0-255">	
									</div>
									
									<div class="form-group col-md-3"> 										  
											<input type="text" name="color_b" class="form-control form-control-sm" id="exampleCheck1" placeholder="Blue 0-255">																					
									</div>	
									<div class="form-group col-md-3"> 
											<input type="text" name="color_a"  class="form-control form-control-sm" id="exampleCheck1" placeholder="Opacity 0-255">
									</div>						
								 </div> 
								 <div class="form-row">
									<div class="form-group col-md-8">
										<label for="exampleFormControlInput1">Цвет пикселя либо формула (+=n, -=n, /=n, *=n)</label>
									</div>	
									<div class="form-group col-md-4">	
										<button type="button"  style="margin-top: 5px;" name="rgba_effect" class="btn btn-primary btn-sm">Применить к выделению</button>
									</div>	
								</div>
								<div class="form-row">
									<div class="form-group col-md-8">
										<label for="exampleFormControlInput1">Формула для обработки пикселя R,G,B,A,X,Y,W,H</label>
										<textarea name="function_to_pixels" rows="10" cols="45" type="text" class="form-control form-control-sm"  placeholder="R - red, G - green, B - blue, A - opacity, X - индекс текущего пикселя по ширине, Y - индекс текущего пикселя по высоте, W - общая ширина, H - высота;   пример:   if(X>W/2){  R=255; G=0; B=255;  }"></textarea>
									</div>	
									<div class="form-group col-md-4">	
										<button type="button"  style="margin-top: 5px;" name="function_to_pixels_click" class="btn btn-primary btn-sm">Применить формулу</button>
									</div>	
								</div>
							</form>
				</div>
			</div>
		</div>
		
		
 
		
	   
	   <script src="./js/htmlix.js"></script>
	   <script src="./js/sprites.js"></script>
	   <script src="./js/functions.js"></script>
	    <script src="./js/functions_new.js"></script>
	   <script src="./js/main.js"></script>
	   <script src="./js/interface.js"></script>

    </body>
	
</html>